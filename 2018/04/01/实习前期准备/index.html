<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    

    <title>
      实习前期准备 | Lyrics 
    </title>

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    
      <meta name="author" content="ZF">
    
    

    <meta name="description" content="react-project熟悉react项目 团队协作githubreact 项目复习start 官方脚手架： create-react-app npm start 开启调试环境 localhost:3000查看调试页面（默认端口）  mongo/node(Express) Express mongodb (使用依赖mongoose) 1234567891011121314151617181920">
<meta property="og:type" content="article">
<meta property="og:title" content="实习前期准备 | Lyrics">
<meta property="og:url" content="https://lyrics1.github.io/2018/04/01/实习前期准备/index.html">
<meta property="og:site_name" content="Lyrics">
<meta property="og:description" content="react-project熟悉react项目 团队协作githubreact 项目复习start 官方脚手架： create-react-app npm start 开启调试环境 localhost:3000查看调试页面（默认端口）  mongo/node(Express) Express mongodb (使用依赖mongoose) 1234567891011121314151617181920">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2018-04-08T06:44:22.153Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="实习前期准备 | Lyrics">
<meta name="twitter:description" content="react-project熟悉react项目 团队协作githubreact 项目复习start 官方脚手架： create-react-app npm start 开启调试环境 localhost:3000查看调试页面（默认端口）  mongo/node(Express) Express mongodb (使用依赖mongoose) 1234567891011121314151617181920">
    
    
    
      <link rel="icon" type="image/x-icon" href="/favicon.png">
    
    <link rel="stylesheet" href="/css/uno.css">
    <link rel="stylesheet" href="/css/highlight.css">
    <link rel="stylesheet" href="/css/archive.css">
    <link rel="stylesheet" href="/css/china-social-icon.css">

</head>
<body>

    <span class="mobile btn-mobile-menu">
        <i class="icon icon-list btn-mobile-menu__icon"></i>
        <i class="icon icon-x-circle btn-mobile-close__icon hidden"></i>
    </span>

    

<header class="panel-cover panel-cover--collapsed">


  <div class="panel-main">

  
    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">

        

        <h1 class="panel-cover__title panel-title"><a href="/" title="link to homepage">Lyrics</a></h1>
        <hr class="panel-cover__divider" />

        
        <p class="panel-cover__description">
          &lt; More and better /&gt;
        </p>
        <hr class="panel-cover__divider panel-cover__divider--secondary" />
        

        <div class="navigation-wrapper">

          <nav class="cover-navigation cover-navigation--primary">
            <ul class="navigation">

              
                
                <li class="navigation__item"><a href="/#blog" title="" class="blog-button">首页</a></li>
              
                
                <li class="navigation__item"><a href="/archive" title="" class="">归档</a></li>
              
                
                <li class="navigation__item"><a href="https://github.com/Lyrics1" title="" class="">github</a></li>
              

            </ul>
          </nav>

          <!-- ----------------------------
To add a new social icon simply duplicate one of the list items from below
and change the class in the <i> tag to match the desired social network
and then add your link to the <a>. Here is a full list of social network
classes that you can use:

    icon-social-500px
    icon-social-behance
    icon-social-delicious
    icon-social-designer-news
    icon-social-deviant-art
    icon-social-digg
    icon-social-dribbble
    icon-social-facebook
    icon-social-flickr
    icon-social-forrst
    icon-social-foursquare
    icon-social-github
    icon-social-google-plus
    icon-social-hi5
    icon-social-instagram
    icon-social-lastfm
    icon-social-linkedin
    icon-social-medium
    icon-social-myspace
    icon-social-path
    icon-social-pinterest
    icon-social-rdio
    icon-social-reddit
    icon-social-skype
    icon-social-spotify
    icon-social-stack-overflow
    icon-social-steam
    icon-social-stumbleupon
    icon-social-treehouse
    icon-social-tumblr
    icon-social-twitter
    icon-social-vimeo
    icon-social-xbox
    icon-social-yelp
    icon-social-youtube
    icon-social-zerply
    icon-mail

-------------------------------->

<!-- add social info here -->



        </div>

      </div>

    </div>

    <div class="panel-cover--overlay"></div>
  </div>
</header>

    <div class="content-wrapper">
        <div class="content-wrapper__inner entry">
            

<article class="post-container post-container--single">

  <header class="post-header">
    
    <h1 class="post-title">实习前期准备</h1>

    

    <div class="post-meta">
      <time datetime="2018-04-01" class="post-meta__date date">2018-04-01</time> 

      <span class="post-meta__tags tags">

          

          

      </span>
    </div>
    
    

  </header>

  <section id="post-content" class="article-content post">
    <h1 id="react-project"><a href="#react-project" class="headerlink" title="react-project"></a>react-project</h1><p>熟悉react项目</p>
<h1 id="团队协作github"><a href="#团队协作github" class="headerlink" title="团队协作github"></a>团队协作github</h1><h1 id="react-项目复习"><a href="#react-项目复习" class="headerlink" title="react 项目复习"></a>react 项目复习</h1><h3 id="start"><a href="#start" class="headerlink" title="start"></a>start</h3><ol>
<li>官方脚手架： create-react-app</li>
<li>npm start 开启调试环境</li>
<li>localhost:3000查看调试页面（默认端口）</li>
</ol>
<h2 id="mongo-node-Express"><a href="#mongo-node-Express" class="headerlink" title="mongo/node(Express)"></a>mongo/node(Express)</h2><ol>
<li>Express</li>
<li><p>mongodb (使用依赖mongoose)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line">const  express = require(&apos;express&apos;)</div><div class="line">const mongoose = require(&apos;mongoose&apos;)</div><div class="line"></div><div class="line">// 链接mongo</div><div class="line">const DB_URL = &apos;mongodb://localhost:27017&apos;</div><div class="line">	mongoose.connect(DB_URL)</div><div class="line">	mongoose.connection.on			(&apos;connected&apos;,function()&#123;</div><div class="line">	console.log(&quot;success 表示连接成功&quot;)</div><div class="line">&#125;)	</div><div class="line"></div><div class="line">//创建 表 及其字段</div><div class="line">const User = mongoose.model(&apos;user&apos;,new mongoose.Schema(&#123;</div><div class="line">	user:&#123;type:String,require:true&#125;,</div><div class="line">	age:&#123;type:Number,require:true&#125;</div><div class="line">&#125;))</div><div class="line"></div><div class="line">//新增数据</div><div class="line">User.create(&#123;</div><div class="line">	name:&apos;ZF&apos;,</div><div class="line">	age:18</div><div class="line">&#125;,function(err,doc)&#123;</div><div class="line">	if(!err)&#123;</div><div class="line">		console.log(&quot;新增数据成功&quot;,doc)</div><div class="line">	&#125;else&#123;</div><div class="line">		console.log(err)</div><div class="line">	&#125;</div><div class="line">&#125;)</div><div class="line"></div><div class="line">//查找数据</div><div class="line">app.get(&apos;/data&apos;,function(req,res)&#123;</div><div class="line">	User.find(&#123;&#125;,function(err,doc)&#123;</div><div class="line">		res.json(doc)</div><div class="line">	&#125;)</div><div class="line">&#125;)</div><div class="line">//删除数据 age:18</div><div class="line">User.remove(&#123;age:18&#125;,function(err,doc)&#123;</div><div class="line">		console.log(doc)</div><div class="line">&#125;)</div><div class="line"></div><div class="line">//更新数据</div><div class="line">User.update(&#123;&apos;user&apos;:&apos;xiaoming&apos;&#125;,&#123;&apos;$set&apos;:&#123;age:26&#125;&#125;,function(err,doc)&#123;</div><div class="line">	console.log(doc)</div><div class="line">&#125;)</div><div class="line">const app = express();</div><div class="line"></div><div class="line"></div><div class="line">app.get(&apos;/&apos;,function(req,res)&#123;</div><div class="line">	res.send(&apos;&lt;h1&gt;HELLO &lt;/h1&gt;&apos;)</div><div class="line">&#125;)</div><div class="line">app.listen(9000,function()&#123;</div><div class="line">	console.log(&quot;port 9093&quot;)</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
</li>
<li><p>state  ，this.setState 是返回新的状态，不是直接修改值</p>
</li>
<li>props</li>
<li>事件<blockquote>
<p>绑定事件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">1. 在constructor 里面绑定</div><div class="line">是将this 强制绑定在class上</div><div class="line">2. 使用箭头函数</div><div class="line">&lt;button onClick =&#123;()=&gt;this.handleChange()&gt; &lt;/button&gt;</div><div class="line">3. 函数书写成箭头函数的形式</div></pre></td></tr></table></figure>
</blockquote>
</li>
</ol>
<h2 id="redux"><a href="#redux" class="headerlink" title="redux"></a>redux</h2><ol>
<li>store 管理所有人的状态，记录所有state</li>
<li>需要改变的时候，需要做使用dispatch, 做什么是action</li>
<li>处理变化的是reducer 拿到旧的state和action,生成新的state<h3 id="redux-使用方法"><a href="#redux-使用方法" class="headerlink" title="redux 使用方法"></a>redux 使用方法</h3></li>
<li>通过reducer 新建store ,通过 store.getState 获取状态</li>
<li>状态需要变更使用store.dispatch(action) 来修改状态</li>
<li>reducer函数接收state和action,返回新的state,使用store.subscribe监听每次修改<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">reducer</div><div class="line">function counter (state = 0,action)&#123;</div><div class="line">    switch(action.type)&#123;</div><div class="line">        case &apos;1&apos;:</div><div class="line">           return state-1;</div><div class="line">        case ....</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">新建store</div><div class="line">const store = createStore(counter);</div></pre></td></tr></table></figure>
</li>
</ol>
<blockquote>
<p>如使用redux<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">import &#123;createStore &#125; from &apos;redux&apos;</div><div class="line">//1. 新建 store</div><div class="line">//通过reducer建立</div><div class="line">reducer</div><div class="line">function counter (state = 0,action)&#123;</div><div class="line">    switch(action.type)&#123;</div><div class="line">        case &apos;1&apos;:</div><div class="line">           return state-1;</div><div class="line">        case ....</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">//新建store</div><div class="line">const store = createStore(counter);</div><div class="line">//获取state</div><div class="line">const init = store.getState() ;</div><div class="line">//订阅事件</div><div class="line">function listener()&#123;</div><div class="line">    const current = store.getState();</div><div class="line">    console.log(&quot;current&quot;)</div><div class="line">&#125;</div><div class="line">store.subscribe(listener);</div><div class="line">//派发事件 传递action</div><div class="line">store.dispatch(&#123;type:&apos;1&apos;&#125;)</div></pre></td></tr></table></figure></p>
<p>Redux 如何和react 一起使用</p>
<ol>
<li>不使用setState直接去改变，而是使用 store.dispatch 方法传递给组件，内部调用setState</li>
<li>Subscribe 订阅render函数，每次修改都重新渲染</li>
<li>redux 相关内容全部独立成一个单独的redux文件<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">//新建 ***.redux.js文件</div><div class="line">import axios from &apos;axios&apos;</div><div class="line">//定义成常量，下面的reducer 就可以直接使用</div><div class="line">const USER_LIST = &apos;USER_LIST&apos;</div><div class="line"></div><div class="line">const initState=&#123;</div><div class="line">	userList:[]</div><div class="line">&#125;</div><div class="line">//reducer</div><div class="line">export function chatuser(state= initState,action)&#123;</div><div class="line">	switch(action.type)&#123;</div><div class="line">		case USER_LIST:</div><div class="line">			return &#123;...state,userList:action.payload&#125;</div><div class="line">		default :</div><div class="line">			return state</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line">//action creator 生 action</div><div class="line">export  function userList(data)&#123;</div><div class="line">	return &#123;type:USER_LIST,payload:data&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ol>
</blockquote>
<p>index.js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">import React from &apos;react&apos;;</div><div class="line">import ReactDOM from &apos;react-dom&apos;;</div><div class="line">import App from &apos;./App&apos;;</div><div class="line">import &#123; counter &#125; from &apos;./index.redux&apos;</div><div class="line">const store = createStore(counter)</div><div class="line">function render()&#123;</div><div class="line">    ReactDOM.render(&lt;App store=&#123;store&#125;/&gt;, document.getElementById(&apos;root&apos;));</div><div class="line">&#125;</div><div class="line"></div><div class="line">render();</div><div class="line">store.subscribe(render) ;／／是为了改变之后还会执行render 函数，不用每次手动更新</div><div class="line">因为是通过store传递，所以子组件就可以使用 const store = this.props.store</div><div class="line">const data = store.getState() 获取状态</div></pre></td></tr></table></figure></p>
<p>子组件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">import React from &apos;react&apos;</div><div class="line">import &#123; userList｝　from &apos;./***.redux.js&apos;</div><div class="line">class App extends React.Component &#123;</div><div class="line">    render()&#123;</div><div class="line">        const store = this.props.store</div><div class="line">        const data = store.getState()</div><div class="line">        return (</div><div class="line">        &lt;div&gt;</div><div class="line">            &lt;button onClick = &#123;()=&gt;store.dispatch(userList())&#125;&gt; 获取列表&lt;/button&gt; </div><div class="line">        &lt;/div&gt;</div><div class="line">        )</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="组件解耦"><a href="#组件解耦" class="headerlink" title="组件解耦"></a>组件解耦</h3><p>index.js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">import React from &apos;react&apos;;</div><div class="line">import ReactDOM from &apos;react-dom&apos;;</div><div class="line">import App from &apos;./App&apos;;</div><div class="line">import &#123; counter，userList &#125; from &apos;./index.redux&apos;</div><div class="line">const store = createStore(counter)</div><div class="line">function render()&#123;</div><div class="line">    ReactDOM.render(&lt;App store=&#123;store&#125; userList  =&#123;userList &#125;/&gt;, document.getElementById(&apos;root&apos;));</div><div class="line">&#125;</div><div class="line"></div><div class="line">render();</div><div class="line">store.subscribe(render) ;／／是为了改变之后还会执行render 函数，不用每次手动更新</div><div class="line">因为是通过store传递，所以子组件就可以使用 const store = this.props.store</div><div class="line">const data = store.getState() 获取状态</div></pre></td></tr></table></figure></p>
<p>子组件App.js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">import React from &apos;react&apos;</div><div class="line">&lt;!--import &#123; userList｝　from &apos;./***.redux.js&apos;--&gt;</div><div class="line">class App extends React.Component &#123;</div><div class="line">    render()&#123;</div><div class="line">        const store = this.props.store</div><div class="line">        const data = store.getState();</div><div class="line">        const userList  = this.props.userList </div><div class="line">        return (</div><div class="line">        &lt;div&gt;</div><div class="line">            &lt;button onClick = &#123;()=&gt;store.dispatch(userList())&#125;&gt; 获取列表&lt;/button&gt; </div><div class="line">        &lt;/div&gt;</div><div class="line">        )</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="异步处理"><a href="#异步处理" class="headerlink" title="异步处理"></a>异步处理</h3><ol>
<li>Redux 处理异步，需要使用redux-thunk 插件</li>
<li>Npm install redux-devtools-extension 并且开启异步处理</li>
<li>使用react -redux 链接react 和　redux</li>
</ol>
<p>步骤：</p>
<ol>
<li>安装redux-thunk 插件  npm install redux-thunk –save </li>
<li>使用applyMiddleware 开启thunk 中间件<blockquote>
<p>在index里面开启<br>index.js</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">import React from &apos;react&apos;;</div><div class="line">import ReactDOM from &apos;react-dom&apos;;</div><div class="line">import &#123; createStore,applyMiddleware&#125; from &apos;redux&apos;</div><div class="line">import thunk  from &apos;redux-thubk&apos; // 注意不需要大括号</div><div class="line">import App from &apos;./App&apos;;</div><div class="line">import &#123; counter，userList &#125; from &apos;./index.redux&apos;</div><div class="line"></div><div class="line">//注意改变</div><div class="line">const store = createStore(counter,applyMiddleware(thunk))</div><div class="line">function render()&#123;</div><div class="line">    ReactDOM.render(&lt;App store=&#123;store&#125; userList  =&#123;userList &#125;/&gt;, document.getElementById(&apos;root&apos;));</div><div class="line">&#125;</div><div class="line"></div><div class="line">render();</div><div class="line">store.subscribe(render) ;／／是为了改变之后还会执行render 函数，不用每次手动更新</div><div class="line">因为是通过store传递，所以子组件就可以使用 const store = this.props.store</div><div class="line">const data = store.getState() 获取状态</div></pre></td></tr></table></figure>
</blockquote>
</li>
</ol>
<p>在 <em>*</em>.redux.js 里面添加一个异步函数，使得可以返回一个函数，就是 getUserList 函数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">//新建 ***.redux.js文件</div><div class="line">import axios from &apos;axios&apos;</div><div class="line">//定义成常量，下面的reducer 就可以直接使用</div><div class="line">const USER_LIST = &apos;USER_LIST&apos;</div><div class="line"></div><div class="line">const initState=&#123;</div><div class="line">	userList:[]</div><div class="line">&#125;</div><div class="line">//reducer</div><div class="line">export function chatuser(state= initState,action)&#123;</div><div class="line">	switch(action.type)&#123;</div><div class="line">		case USER_LIST:</div><div class="line">			return &#123;...state,userList:action.payload&#125;</div><div class="line">		default :</div><div class="line">			return state</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line">//action creator 生 action</div><div class="line">function userList(data)&#123;</div><div class="line">	return &#123;type:USER_LIST,payload:data&#125;</div><div class="line">&#125;</div><div class="line">export function getUserList(type)&#123;</div><div class="line">	return dispatch=&gt;&#123;</div><div class="line">		axios.get(`/user/list?type=$&#123;type&#125;`)</div><div class="line">			.then(res=&gt;&#123;</div><div class="line">				</div><div class="line">				if(res.data.code === 0)&#123;</div><div class="line">					dispatch(userList(res.data.data))</div><div class="line">				&#125;</div><div class="line">			&#125;)</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<ol>
<li>使得 action 可以返回函数，</li>
</ol>
<h3 id="redux-状态管理-chrom-调试工具-Redux-Devtools"><a href="#redux-状态管理-chrom-调试工具-Redux-Devtools" class="headerlink" title="redux 状态管理 chrom 调试工具 Redux-Devtools"></a>redux 状态管理 chrom 调试工具 Redux-Devtools</h3><h3 id="使用react-redux"><a href="#使用react-redux" class="headerlink" title="使用react-redux"></a>使用react-redux</h3><ol>
<li>npm install react-redux –save</li>
<li>忘记subscribe 记住reducer,action和dispatch</li>
<li>React-redux 提供Provider 和 connect 两个接口来链接</li>
</ol>
<blockquote>
<p>具体使用</p>
<ol>
<li>Provider组件在应用的最外层，只传入store即可，只用一次<br>index.js<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">import React from &apos;react&apos;</div><div class="line">import ReactDom from &apos;react-dom&apos;</div><div class="line">import  &#123; createStore,applyMiddleware,compose&#125; from &apos;redux&apos;</div><div class="line">import thunk from &apos;redux-thunk&apos;</div><div class="line">import &#123;Provider&#125; from &apos;react-redux&apos;</div><div class="line">import &#123;BrowserRouter&#125; from &apos;react-router-dom&apos;</div><div class="line">import App from &apos;./app&apos;</div><div class="line">import reducers from &apos;./reducer&apos;</div><div class="line">import &apos;./config&apos;</div><div class="line">import &apos;./index.css&apos;</div><div class="line"></div><div class="line">const store = createStore(reducers,compose(</div><div class="line">	applyMiddleware(thunk),</div><div class="line">	window.devToolsExtension?window.devToolsExtension():f=&gt;f</div><div class="line">	))</div><div class="line">ReactDom.render(</div><div class="line">	(&lt;Provider store=&#123;store&#125;&gt;</div><div class="line">		&lt;BrowserRouter&gt;</div><div class="line">			</div><div class="line">			&lt;App&gt;&lt;/App&gt;</div><div class="line">			</div><div class="line">		&lt;/BrowserRouter&gt;</div><div class="line">	&lt;/Provider&gt;),</div><div class="line">	document.getElementById(&quot;root&quot;)</div><div class="line">	)</div></pre></td></tr></table></figure>
</li>
</ol>
</blockquote>
<ol>
<li>Connect负责从外部获取组件需要的参数，也可以使用装饰器方式写<br>子组件App.js,注意不对比不同之处<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">import React from &apos;react&apos;</div><div class="line">impirt &#123; connect&#125; from &apos;react-redux&apos;</div><div class="line">import &#123; userList｝　from &apos;./***.redux.js&apos;</div><div class="line">class App extends React.Component &#123;</div><div class="line">    render()&#123;</div><div class="line">        const store = this.props.store</div><div class="line">        const data = this.props.data;</div><div class="line">        const userList  = this.props.userList </div><div class="line">        return (</div><div class="line">        &lt;div&gt;</div><div class="line">            &lt;button onClick = &#123;userList&#125;&gt; 获取列表&lt;/button&gt; </div><div class="line">        &lt;/div&gt;</div><div class="line">        )</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">//需要的数据 ,第一个参数</div><div class="line">const mapStatetoProps=(state)=&gt;&#123;</div><div class="line">    return &#123;data:state&#125;</div><div class="line">&#125;</div><div class="line">//第二个参数需要的action creator</div><div class="line">const actionCreators  = &#123;userList&#125;</div><div class="line">//这样使得新生成的App组件 使用props 来获取一切,直接使用</div><div class="line">App = connect(mapStatetoProps,actionCreators)(App)</div><div class="line">//connect 是高阶组件，生成一个组件</div><div class="line">export default App;</div></pre></td></tr></table></figure>
</li>
</ol>

  </section>

  

<section class="post-comments">
  <div id="disqus_thread"></div>
  <script type="text/javascript">
      var disqus_shortname = 'letian'; 
      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>


  
</article>


            <footer class="footer">

    <span class="footer__copyright">&copy; 2014-2015. | 由<a href="https://hexo.io/">Hexo</a>强力驱动 | 主题<a href="https://github.com/someus/huno">Huno</a></span>
    
</footer>
        </div>
    </div>

    <!-- js files -->
    <script src="/js/jquery.min.js"></script>
    <script src="/js/main.js"></script>
    <script src="/js/scale.fix.js"></script>
    

    

    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript"> 
        $(document).ready(function(){
            MathJax.Hub.Config({ 
                tex2jax: {inlineMath: [['[latex]','[/latex]'], ['\\(','\\)']]} 
            });
        });
    </script>


    

    <script src="/js/awesome-toc.min.js"></script>
    <script>
        $(document).ready(function(){
            $.awesome_toc({
                overlay: true,
                contentId: "post-content",
            });
        });
    </script>


    
    
    <!--kill ie6 -->
<!--[if IE 6]>
  <script src="//letskillie6.googlecode.com/svn/trunk/2/zh_CN.js"></script>
<![endif]-->

</body>
</html>
